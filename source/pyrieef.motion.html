

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pyrieef.motion package &mdash; pyrieef 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> pyrieef
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pyrieef</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>pyrieef.motion package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pyrieef-motion-package">
<h1>pyrieef.motion package<a class="headerlink" href="#pyrieef-motion-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pyrieef.motion.control">
<span id="pyrieef-motion-control-module"></span><h2>pyrieef.motion.control module<a class="headerlink" href="#module-pyrieef.motion.control" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyrieef.motion.control.KinematicTrajectoryFollowingLQR">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.control.</code><code class="sig-name descname">KinematicTrajectoryFollowingLQR</code><span class="sig-paren">(</span><em class="sig-param">dt</em>, <em class="sig-param">trajectory</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.control.KinematicTrajectoryFollowingLQR" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="pyrieef.motion.control.KinematicTrajectoryFollowingLQR.T">
<code class="sig-name descname">T</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.control.KinematicTrajectoryFollowingLQR.T" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.control.KinematicTrajectoryFollowingLQR.dt">
<code class="sig-name descname">dt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.control.KinematicTrajectoryFollowingLQR.dt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.control.KinematicTrajectoryFollowingLQR.integrate">
<code class="sig-name descname">integrate</code><span class="sig-paren">(</span><em class="sig-param">q_init</em>, <em class="sig-param">start_time_step=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.control.KinematicTrajectoryFollowingLQR.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate the policy forward in time</p>
<blockquote>
<div><p>q_init : ndarray</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.control.KinematicTrajectoryFollowingLQR.policy">
<code class="sig-name descname">policy</code><span class="sig-paren">(</span><em class="sig-param">t</em>, <em class="sig-param">x_t</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.control.KinematicTrajectoryFollowingLQR.policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the desired acceleration given an LQR error term gain.</p>
<blockquote>
<div><p>u = -K (x_t - x_dt) + u_d</p>
<p>where x_d and u_d are the state and control along the trajectory</p>
</div></blockquote>
<blockquote>
<div><p>t : float
x_t : ndarray</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.control.KinematicTrajectoryFollowingLQR.solve_ricatti">
<code class="sig-name descname">solve_ricatti</code><span class="sig-paren">(</span><em class="sig-param">Q_p</em>, <em class="sig-param">Q_v</em>, <em class="sig-param">R_a</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.control.KinematicTrajectoryFollowingLQR.solve_ricatti" title="Permalink to this definition">¶</a></dt>
<dd><p>State and action are pulerly kinematic and defined as :</p>
<p>q_t                 : configuration
v_t = dot q_t      : velocity
a_t = ddot q_t     : acceleration</p>
<p>x_t = [q_t, v_t]
u_t = a_t</p>
<p>the dynamical system is described as:</p>
<blockquote>
<div><p>q_{t+1} = q_t + v_t * dt + a_t * dt^2
v_{t+1} = v_t + a_t * dt</p>
</div></blockquote>
<p>the policy should be:</p>
<blockquote>
<div><p>a_{t+1} = -K (x_t - x_td) + a_td</p>
</div></blockquote>
<p>where x_td and a_td are the state and acceleration
along the trajectory.</p>
<blockquote>
<div><p>Q_p : float, position tracking gain
Q_v : float, velocity tracking gain
R_a : float, control cost</p>
</div></blockquote>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyrieef.motion.control.controller_lqr_discrete_time">
<code class="sig-prename descclassname">pyrieef.motion.control.</code><code class="sig-name descname">controller_lqr_discrete_time</code><span class="sig-paren">(</span><em class="sig-param">A</em>, <em class="sig-param">B</em>, <em class="sig-param">Q</em>, <em class="sig-param">R</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.control.controller_lqr_discrete_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve the constdiscrete time LQR controller for a
discrete time constant system.</p>
<blockquote>
<div><p>A and B are system matrices, describing the systems dynamics:</p>
<blockquote>
<div><p>x_{t+1} = A x_t + B u_t</p>
</div></blockquote>
</div></blockquote>
<p>The controller minimizes the
infinite horizon quadratic cost function:</p>
<blockquote>
<div><blockquote>
<div><p>cost = sum x_t^T Q x_t + u_t^T R u_t</p>
</div></blockquote>
<p>where Q is a positive semidefinite matrix,
and R is positive definite matrix.</p>
</div></blockquote>
<blockquote>
<div><p>A, B, Q, R : numpy matrices</p>
</div></blockquote>
<blockquote>
<div><p>K : gain the optimal gain K,
P : the solution matrix X, and the closed loop system
eigVals: eigenvalues.</p>
<dl class="simple">
<dt>The optimal input is then computed as:</dt><dd><p>input: u = -K*x</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-pyrieef.motion.cost_terms">
<span id="pyrieef-motion-cost-terms-module"></span><h2>pyrieef.motion.cost_terms module<a class="headerlink" href="#module-pyrieef.motion.cost_terms" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyrieef.motion.cost_terms.BoundBarrier">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.cost_terms.</code><code class="sig-name descname">BoundBarrier</code><span class="sig-paren">(</span><em class="sig-param">v_lower</em>, <em class="sig-param">v_upper</em>, <em class="sig-param">margin=1e-10</em>, <em class="sig-param">alpha=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.BoundBarrier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">geometry.differentiable_geometry.DifferentiableMap</span></code></p>
<p>Barrier between values v_lower and v_upper</p>
<dl class="method">
<dt id="pyrieef.motion.cost_terms.BoundBarrier.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.BoundBarrier.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Should return an array or single value</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.BoundBarrier.hessian">
<code class="sig-name descname">hessian</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.BoundBarrier.hessian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Should return the hessian matrix</dt><dd><p>n x n : input x input (dimensions)</p>
</dd>
</dl>
<p>by default the method returns the finite difference hessian
that relies on the jacobian function.
This method would be a third order tensor
in the case of multiple output, we exclude this case for now.
WARNING the object returned by this function is a numpy matrix.</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.BoundBarrier.input_dimension">
<code class="sig-name descname">input_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.BoundBarrier.input_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.BoundBarrier.jacobian">
<code class="sig-name descname">jacobian</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.BoundBarrier.jacobian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Should return a matrix or single value of</dt><dd><p>m x n : ouput x input (dimensions)</p>
</dd>
</dl>
<p>by default the method returns the finite difference jacobian.
WARNING the object returned by this function is a numpy matrix.</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.BoundBarrier.output_dimension">
<code class="sig-name descname">output_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.BoundBarrier.output_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyrieef.motion.cost_terms.CostGridPotential2D">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.cost_terms.</code><code class="sig-name descname">CostGridPotential2D</code><span class="sig-paren">(</span><em class="sig-param">signed_distance_field</em>, <em class="sig-param">alpha</em>, <em class="sig-param">margin</em>, <em class="sig-param">offset</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.CostGridPotential2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyrieef.motion.cost_terms.SimplePotential2D" title="pyrieef.motion.cost_terms.SimplePotential2D"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyrieef.motion.cost_terms.SimplePotential2D</span></code></a></p>
<p>obstacle potential class with margin and offset</p>
<dl class="method">
<dt id="pyrieef.motion.cost_terms.CostGridPotential2D.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.CostGridPotential2D.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Should return an array or single value</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyrieef.motion.cost_terms.FiniteDifferencesAcceleration">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.cost_terms.</code><code class="sig-name descname">FiniteDifferencesAcceleration</code><span class="sig-paren">(</span><em class="sig-param">dim</em>, <em class="sig-param">dt</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.FiniteDifferencesAcceleration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">geometry.differentiable_geometry.AffineMap</span></code></p>
<p>Define accelerations where clique = [ x_{t-1} ; x_{t} ; x_{t+1} ]</p>
</dd></dl>

<dl class="class">
<dt id="pyrieef.motion.cost_terms.FiniteDifferencesVelocity">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.cost_terms.</code><code class="sig-name descname">FiniteDifferencesVelocity</code><span class="sig-paren">(</span><em class="sig-param">dim</em>, <em class="sig-param">dt</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.FiniteDifferencesVelocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">geometry.differentiable_geometry.AffineMap</span></code></p>
<p>Define velocities where clique = [ x_t ; x_{t+1} ]</p>
</dd></dl>

<dl class="class">
<dt id="pyrieef.motion.cost_terms.LogBarrierFunction">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.cost_terms.</code><code class="sig-name descname">LogBarrierFunction</code><span class="sig-paren">(</span><em class="sig-param">margin=1e-10</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.LogBarrierFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">geometry.differentiable_geometry.DifferentiableMap</span></code></p>
<p>Log barrier function</p>
<blockquote>
<div><p>f(x) = -mu log(x)</p>
</div></blockquote>
<p>Note fot the sdf the sign has to be flipped, you can set alpha to -1.</p>
<blockquote>
<div><p>g : R^n -&gt; R, constraint function that allways has to be positive
mu : float
alpha : float</p>
</div></blockquote>
<dl class="method">
<dt id="pyrieef.motion.cost_terms.LogBarrierFunction.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.LogBarrierFunction.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO add this notion of infity</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.LogBarrierFunction.hessian">
<code class="sig-name descname">hessian</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.LogBarrierFunction.hessian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Should return the hessian matrix</dt><dd><p>n x n : input x input (dimensions)</p>
</dd>
</dl>
<p>by default the method returns the finite difference hessian
that relies on the jacobian function.
This method would be a third order tensor
in the case of multiple output, we exclude this case for now.
WARNING the object returned by this function is a numpy matrix.</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.LogBarrierFunction.input_dimension">
<code class="sig-name descname">input_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.LogBarrierFunction.input_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.LogBarrierFunction.jacobian">
<code class="sig-name descname">jacobian</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.LogBarrierFunction.jacobian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Should return a matrix or single value of</dt><dd><p>m x n : ouput x input (dimensions)</p>
</dd>
</dl>
<p>by default the method returns the finite difference jacobian.
WARNING the object returned by this function is a numpy matrix.</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.LogBarrierFunction.output_dimension">
<code class="sig-name descname">output_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.LogBarrierFunction.output_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.LogBarrierFunction.set_mu">
<code class="sig-name descname">set_mu</code><span class="sig-paren">(</span><em class="sig-param">mu</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.LogBarrierFunction.set_mu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyrieef.motion.cost_terms.ObstaclePotential2D">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.cost_terms.</code><code class="sig-name descname">ObstaclePotential2D</code><span class="sig-paren">(</span><em class="sig-param">signed_distance_field</em>, <em class="sig-param">scaling=50.0</em>, <em class="sig-param">alpha=0.001</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.ObstaclePotential2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">geometry.differentiable_geometry.DifferentiableMap</span></code></p>
<p>obstacle potential class</p>
<dl class="method">
<dt id="pyrieef.motion.cost_terms.ObstaclePotential2D.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.ObstaclePotential2D.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Should return an array or single value</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.ObstaclePotential2D.hessian">
<code class="sig-name descname">hessian</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.ObstaclePotential2D.hessian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Should return the hessian matrix</dt><dd><p>n x n : input x input (dimensions)</p>
</dd>
</dl>
<p>by default the method returns the finite difference hessian
that relies on the jacobian function.
This method would be a third order tensor
in the case of multiple output, we exclude this case for now.
WARNING the object returned by this function is a numpy matrix.</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.ObstaclePotential2D.input_dimension">
<code class="sig-name descname">input_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.ObstaclePotential2D.input_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.ObstaclePotential2D.jacobian">
<code class="sig-name descname">jacobian</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.ObstaclePotential2D.jacobian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Should return a matrix or single value of</dt><dd><p>m x n : ouput x input (dimensions)</p>
</dd>
</dl>
<p>by default the method returns the finite difference jacobian.
WARNING the object returned by this function is a numpy matrix.</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.ObstaclePotential2D.output_dimension">
<code class="sig-name descname">output_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.ObstaclePotential2D.output_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyrieef.motion.cost_terms.SimplePotential2D">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.cost_terms.</code><code class="sig-name descname">SimplePotential2D</code><span class="sig-paren">(</span><em class="sig-param">signed_distance_field</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.SimplePotential2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">geometry.differentiable_geometry.DifferentiableMap</span></code></p>
<p>obstacle potential class</p>
<dl class="method">
<dt id="pyrieef.motion.cost_terms.SimplePotential2D.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.SimplePotential2D.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Should return an array or single value</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.SimplePotential2D.hessian">
<code class="sig-name descname">hessian</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.SimplePotential2D.hessian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Should return the hessian matrix</dt><dd><p>n x n : input x input (dimensions)</p>
</dd>
</dl>
<p>by default the method returns the finite difference hessian
that relies on the jacobian function.
This method would be a third order tensor
in the case of multiple output, we exclude this case for now.
WARNING the object returned by this function is a numpy matrix.</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.SimplePotential2D.input_dimension">
<code class="sig-name descname">input_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.SimplePotential2D.input_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.SimplePotential2D.jacobian">
<code class="sig-name descname">jacobian</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.SimplePotential2D.jacobian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Should return a matrix or single value of</dt><dd><p>m x n : ouput x input (dimensions)</p>
</dd>
</dl>
<p>by default the method returns the finite difference jacobian.
WARNING the object returned by this function is a numpy matrix.</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.SimplePotential2D.output_dimension">
<code class="sig-name descname">output_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.SimplePotential2D.output_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyrieef.motion.cost_terms.SquaredNormAcceleration">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.cost_terms.</code><code class="sig-name descname">SquaredNormAcceleration</code><span class="sig-paren">(</span><em class="sig-param">dim</em>, <em class="sig-param">dt</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.SquaredNormAcceleration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyrieef.motion.cost_terms.SquaredNormDerivative" title="pyrieef.motion.cost_terms.SquaredNormDerivative"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyrieef.motion.cost_terms.SquaredNormDerivative</span></code></a></p>
<p>Defines SN of acceleration clique = [x_{t-1} ; x_{t} ; x_{t+1} ]</p>
</dd></dl>

<dl class="class">
<dt id="pyrieef.motion.cost_terms.SquaredNormDerivative">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.cost_terms.</code><code class="sig-name descname">SquaredNormDerivative</code><span class="sig-paren">(</span><em class="sig-param">dim</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.SquaredNormDerivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">geometry.differentiable_geometry.DifferentiableMap</span></code></p>
<p>Define any norm of derivatives clique = [x_t ; x_{t+1} ; … ]</p>
<dl class="method">
<dt id="pyrieef.motion.cost_terms.SquaredNormDerivative.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">clique</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.SquaredNormDerivative.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Should return an array or single value</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.SquaredNormDerivative.hessian">
<code class="sig-name descname">hessian</code><span class="sig-paren">(</span><em class="sig-param">clique</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.SquaredNormDerivative.hessian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Should return the hessian matrix</dt><dd><p>n x n : input x input (dimensions)</p>
</dd>
</dl>
<p>by default the method returns the finite difference hessian
that relies on the jacobian function.
This method would be a third order tensor
in the case of multiple output, we exclude this case for now.
WARNING the object returned by this function is a numpy matrix.</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.SquaredNormDerivative.input_dimension">
<code class="sig-name descname">input_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.SquaredNormDerivative.input_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.SquaredNormDerivative.jacobian">
<code class="sig-name descname">jacobian</code><span class="sig-paren">(</span><em class="sig-param">clique</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.SquaredNormDerivative.jacobian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Should return a matrix or single value of</dt><dd><p>m x n : ouput x input (dimensions)</p>
</dd>
</dl>
<p>by default the method returns the finite difference jacobian.
WARNING the object returned by this function is a numpy matrix.</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.cost_terms.SquaredNormDerivative.output_dimension">
<code class="sig-name descname">output_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.SquaredNormDerivative.output_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyrieef.motion.cost_terms.SquaredNormVelocity">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.cost_terms.</code><code class="sig-name descname">SquaredNormVelocity</code><span class="sig-paren">(</span><em class="sig-param">dim</em>, <em class="sig-param">dt</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.cost_terms.SquaredNormVelocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyrieef.motion.cost_terms.SquaredNormDerivative" title="pyrieef.motion.cost_terms.SquaredNormDerivative"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyrieef.motion.cost_terms.SquaredNormDerivative</span></code></a></p>
<p>Defines SN of velocities where clique = [x_t ; x_{t+1} ]</p>
</dd></dl>

</div>
<div class="section" id="module-pyrieef.motion.freeflyer">
<span id="pyrieef-motion-freeflyer-module"></span><h2>pyrieef.motion.freeflyer module<a class="headerlink" href="#module-pyrieef.motion.freeflyer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyrieef.motion.freeflyer.FreeflyerObjective">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.freeflyer.</code><code class="sig-name descname">FreeflyerObjective</code><span class="sig-paren">(</span><em class="sig-param">T=30</em>, <em class="sig-param">n=3</em>, <em class="sig-param">q_init=None</em>, <em class="sig-param">q_goal=None</em>, <em class="sig-param">embedding=None</em>, <em class="sig-param">robot=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.freeflyer.FreeflyerObjective" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="pyrieef.motion.freeflyer.FreeflyerObjective.add_smoothness_terms">
<code class="sig-name descname">add_smoothness_terms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.freeflyer.FreeflyerObjective.add_smoothness_terms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.freeflyer.FreeflyerObjective.add_terminal_term">
<code class="sig-name descname">add_terminal_term</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.freeflyer.FreeflyerObjective.add_terminal_term" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.freeflyer.FreeflyerObjective.create_clique_network">
<code class="sig-name descname">create_clique_network</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.freeflyer.FreeflyerObjective.create_clique_network" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyrieef.motion.geodesic">
<span id="pyrieef-motion-geodesic-module"></span><h2>pyrieef.motion.geodesic module<a class="headerlink" href="#module-pyrieef.motion.geodesic" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyrieef.motion.geodesic.GeodesicObjective2D">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.geodesic.</code><code class="sig-name descname">GeodesicObjective2D</code><span class="sig-paren">(</span><em class="sig-param">T=10</em>, <em class="sig-param">n=2</em>, <em class="sig-param">q_init=None</em>, <em class="sig-param">q_goal=None</em>, <em class="sig-param">embedding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.geodesic.GeodesicObjective2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="pyrieef.motion.geodesic.GeodesicObjective2D.add_smoothness_terms">
<code class="sig-name descname">add_smoothness_terms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.geodesic.GeodesicObjective2D.add_smoothness_terms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.geodesic.GeodesicObjective2D.add_terminal_term">
<code class="sig-name descname">add_terminal_term</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.geodesic.GeodesicObjective2D.add_terminal_term" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.geodesic.GeodesicObjective2D.create_clique_network">
<code class="sig-name descname">create_clique_network</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.geodesic.GeodesicObjective2D.create_clique_network" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyrieef.motion.ilqr">
<span id="pyrieef-motion-ilqr-module"></span><h2>pyrieef.motion.ilqr module<a class="headerlink" href="#module-pyrieef.motion.ilqr" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyrieef.motion.ilqr.IterativeLQR">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.ilqr.</code><code class="sig-name descname">IterativeLQR</code><span class="sig-paren">(</span><em class="sig-param">clique_hessians</em>, <em class="sig-param">clique_jacobians</em>, <em class="sig-param">T_length</em>, <em class="sig-param">dt</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.ilqr.IterativeLQR" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="pyrieef.motion.ilqr.IterativeLQR.backward_pass">
<code class="sig-name descname">backward_pass</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.ilqr.IterativeLQR.backward_pass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.ilqr.IterativeLQR.forward_pass">
<code class="sig-name descname">forward_pass</code><span class="sig-paren">(</span><em class="sig-param">start_point</em>, <em class="sig-param">x_d</em>, <em class="sig-param">u_d</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.ilqr.IterativeLQR.forward_pass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyrieef.motion.objective">
<span id="pyrieef-motion-objective-module"></span><h2>pyrieef.motion.objective module<a class="headerlink" href="#module-pyrieef.motion.objective" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.objective.</code><code class="sig-name descname">MotionOptimization2DCostMap</code><span class="sig-paren">(</span><em class="sig-param">T=10</em>, <em class="sig-param">n=2</em>, <em class="sig-param">box=&lt;geometry.workspace.EnvBox object&gt;</em>, <em class="sig-param">signed_distance_field=None</em>, <em class="sig-param">costmap=None</em>, <em class="sig-param">q_init=None</em>, <em class="sig-param">q_goal=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.add_all_terms">
<code class="sig-name descname">add_all_terms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.add_all_terms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.add_attractor">
<code class="sig-name descname">add_attractor</code><span class="sig-paren">(</span><em class="sig-param">trajectory</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.add_attractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an attractor to each clique scalled by the distance
to the goal, it ensures that the trajectory does not slow down
in time as it progresses towards the goal.
This is Model Predictive Control grounded scheme.
TODO check the literature to set this appropriatly.</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.add_box_limits">
<code class="sig-name descname">add_box_limits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.add_box_limits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.add_costgrid_terms">
<code class="sig-name descname">add_costgrid_terms</code><span class="sig-paren">(</span><em class="sig-param">scalar=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.add_costgrid_terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a matrix and adds a isometric potential term
to all cliques</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.add_final_velocity_terms">
<code class="sig-name descname">add_final_velocity_terms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.add_final_velocity_terms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.add_init_and_terminal_terms">
<code class="sig-name descname">add_init_and_terminal_terms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.add_init_and_terminal_terms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.add_isometric_potential_to_all_cliques">
<code class="sig-name descname">add_isometric_potential_to_all_cliques</code><span class="sig-paren">(</span><em class="sig-param">potential</em>, <em class="sig-param">scalar</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.add_isometric_potential_to_all_cliques" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the following euqation to all cliques:</p>
<blockquote>
<div><blockquote>
<div><p>c(x_t) | d/dt x_t |</p>
</div></blockquote>
<p>The resulting Riemanian metric is isometric. TODO see paper.
Introduced in CHOMP, Ratliff et al. 2009.</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.add_obstacle_barrier">
<code class="sig-name descname">add_obstacle_barrier</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.add_obstacle_barrier" title="Permalink to this definition">¶</a></dt>
<dd><p>obstacle barrier function</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.add_obstacle_terms">
<code class="sig-name descname">add_obstacle_terms</code><span class="sig-paren">(</span><em class="sig-param">geodesic=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.add_obstacle_terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a matrix and adds an isometric potential term
to all cliques</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.add_smoothness_terms">
<code class="sig-name descname">add_smoothness_terms</code><span class="sig-paren">(</span><em class="sig-param">deriv_order=2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.add_smoothness_terms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.add_waypoint_terms">
<code class="sig-name descname">add_waypoint_terms</code><span class="sig-paren">(</span><em class="sig-param">q_waypoint</em>, <em class="sig-param">i</em>, <em class="sig-param">scalar</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.add_waypoint_terms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.cost">
<code class="sig-name descname">cost</code><span class="sig-paren">(</span><em class="sig-param">trajectory</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.cost" title="Permalink to this definition">¶</a></dt>
<dd><p>compute sum of acceleration</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.create_clique_network">
<code class="sig-name descname">create_clique_network</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.create_clique_network" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.create_objective">
<code class="sig-name descname">create_objective</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.create_objective" title="Permalink to this definition">¶</a></dt>
<dd><p>resets the objective</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.create_sdf_hardcoded_workspace">
<code class="sig-name descname">create_sdf_hardcoded_workspace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.create_sdf_hardcoded_workspace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.create_sdf_test_workspace">
<code class="sig-name descname">create_sdf_test_workspace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.create_sdf_test_workspace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.create_smoothness_metric">
<code class="sig-name descname">create_smoothness_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.create_smoothness_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO this does not seem to work at all…</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.obstacle_potential_from_sdf">
<code class="sig-name descname">obstacle_potential_from_sdf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.obstacle_potential_from_sdf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.optimize">
<code class="sig-name descname">optimize</code><span class="sig-paren">(</span><em class="sig-param">q_init</em>, <em class="sig-param">nb_steps=100</em>, <em class="sig-param">trajectory=None</em>, <em class="sig-param">optimizer='natural_gradient'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.optimize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.set_eta">
<code class="sig-name descname">set_eta</code><span class="sig-paren">(</span><em class="sig-param">eta</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.set_eta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.set_problem">
<code class="sig-name descname">set_problem</code><span class="sig-paren">(</span><em class="sig-param">workspace</em>, <em class="sig-param">trajectory</em>, <em class="sig-param">obstacle_potential</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.set_problem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.set_scalars">
<code class="sig-name descname">set_scalars</code><span class="sig-paren">(</span><em class="sig-param">obstacle_scalar=1.0</em>, <em class="sig-param">init_potential_scalar=0.0</em>, <em class="sig-param">term_potential_scalar=10000000.0</em>, <em class="sig-param">velocity_scalar=1.0</em>, <em class="sig-param">acceleration_scalar=1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.set_scalars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.objective.MotionOptimization2DCostMap.set_test_objective">
<code class="sig-name descname">set_test_objective</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.MotionOptimization2DCostMap.set_test_objective" title="Permalink to this definition">¶</a></dt>
<dd><p>This objective does not collide with the enviroment</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyrieef.motion.objective.smoothness_metric">
<code class="sig-prename descclassname">pyrieef.motion.objective.</code><code class="sig-name descname">smoothness_metric</code><span class="sig-paren">(</span><em class="sig-param">dt</em>, <em class="sig-param">T</em>, <em class="sig-param">n</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.objective.smoothness_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO this does not seem to work at all…</p>
</dd></dl>

</div>
<div class="section" id="module-pyrieef.motion.trajectory">
<span id="pyrieef-motion-trajectory-module"></span><h2>pyrieef.motion.trajectory module<a class="headerlink" href="#module-pyrieef.motion.trajectory" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.trajectory.</code><code class="sig-name descname">CliquesFunctionNetwork</code><span class="sig-paren">(</span><em class="sig-param">input_dimension</em>, <em class="sig-param">clique_element_dim</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyrieef.motion.trajectory.FunctionNetwork" title="pyrieef.motion.trajectory.FunctionNetwork"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyrieef.motion.trajectory.FunctionNetwork</span></code></a></p>
<p>Base class to implement a function network
It allows to register functions and evaluates
f(x_{i-1}, x_i, x_{i+1}) = sum_i f_i(x_{i-1}, x_i, x_{i+1})</p>
<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.all_cliques">
<code class="sig-name descname">all_cliques</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.all_cliques" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of all cliques</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.center_of_clique_map">
<code class="sig-name descname">center_of_clique_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.center_of_clique_map" title="Permalink to this definition">¶</a></dt>
<dd><p>x_{t}</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.clique_hessian">
<code class="sig-name descname">clique_hessian</code><span class="sig-paren">(</span><em class="sig-param">H</em>, <em class="sig-param">t</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.clique_hessian" title="Permalink to this definition">¶</a></dt>
<dd><p>return the clique hessian
H : the full hessian</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.clique_jacobian">
<code class="sig-name descname">clique_jacobian</code><span class="sig-paren">(</span><em class="sig-param">J</em>, <em class="sig-param">t</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.clique_jacobian" title="Permalink to this definition">¶</a></dt>
<dd><p>return the clique jacobian
J : the full jacobian</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.clique_value">
<code class="sig-name descname">clique_value</code><span class="sig-paren">(</span><em class="sig-param">t</em>, <em class="sig-param">x_t</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.clique_value" title="Permalink to this definition">¶</a></dt>
<dd><p>return the clique value
TODO create a test using this function.</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>We call over all subfunctions in each clique</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.hessian">
<code class="sig-name descname">hessian</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.hessian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>The hessian matrix is of dimension m x m</dt><dd><p>m (rows) : input size
m (cols) : input size</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.input_dimension">
<code class="sig-name descname">input_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.input_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.jacobian">
<code class="sig-name descname">jacobian</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.jacobian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>The jacboian matrix is of dimension m x n</dt><dd><p>m (rows) : output size
n (cols) : input size</p>
</dd>
</dl>
<p>which can also be viewed becase the first order Taylor expansion
of any differentiable map is f(x) = f(x_0) + J(x_0)_f x,
where x is a collumn vector.
The sub jacobian of the maps are the sum of clique jacobians
each clique function f : R^dim -&gt; R, where dim is the clique size.</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.left_most_of_clique_map">
<code class="sig-name descname">left_most_of_clique_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.left_most_of_clique_map" title="Permalink to this definition">¶</a></dt>
<dd><p>x_{t-1}</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.left_of_clique_map">
<code class="sig-name descname">left_of_clique_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.left_of_clique_map" title="Permalink to this definition">¶</a></dt>
<dd><p>x_{t-1} ; x_{t}</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.nb_cliques">
<code class="sig-name descname">nb_cliques</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.nb_cliques" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.output_dimension">
<code class="sig-name descname">output_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.output_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.register_function_for_all_cliques">
<code class="sig-name descname">register_function_for_all_cliques</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.register_function_for_all_cliques" title="Permalink to this definition">¶</a></dt>
<dd><p>Register function f</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.register_function_for_clique">
<code class="sig-name descname">register_function_for_clique</code><span class="sig-paren">(</span><em class="sig-param">t</em>, <em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.register_function_for_clique" title="Permalink to this definition">¶</a></dt>
<dd><p>Register function f for clique i</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.register_function_last_clique">
<code class="sig-name descname">register_function_last_clique</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.register_function_last_clique" title="Permalink to this definition">¶</a></dt>
<dd><p>Register function f</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.right_most_of_clique_map">
<code class="sig-name descname">right_most_of_clique_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.right_most_of_clique_map" title="Permalink to this definition">¶</a></dt>
<dd><p>x_{t+1}</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CliquesFunctionNetwork.right_of_clique_map">
<code class="sig-name descname">right_of_clique_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CliquesFunctionNetwork.right_of_clique_map" title="Permalink to this definition">¶</a></dt>
<dd><p>x_{t} ; x_{t+1}</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyrieef.motion.trajectory.ConstantAccelerationTrajectory">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.trajectory.</code><code class="sig-name descname">ConstantAccelerationTrajectory</code><span class="sig-paren">(</span><em class="sig-param">T=0</em>, <em class="sig-param">n=2</em>, <em class="sig-param">dt=0.1</em>, <em class="sig-param">q_init=None</em>, <em class="sig-param">x=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.ConstantAccelerationTrajectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyrieef.motion.trajectory.ContinuousTrajectory" title="pyrieef.motion.trajectory.ContinuousTrajectory"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyrieef.motion.trajectory.ContinuousTrajectory</span></code></a></p>
<p>Implements a trajectory that can be continously interpolated</p>
<dl class="method">
<dt id="pyrieef.motion.trajectory.ConstantAccelerationTrajectory.config_at_time">
<code class="sig-name descname">config_at_time</code><span class="sig-paren">(</span><em class="sig-param">t</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.ConstantAccelerationTrajectory.config_at_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the id of the segment and then interpolate
using quadric interpolation</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyrieef.motion.trajectory.ContinuousTrajectory">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.trajectory.</code><code class="sig-name descname">ContinuousTrajectory</code><span class="sig-paren">(</span><em class="sig-param">T=0</em>, <em class="sig-param">n=2</em>, <em class="sig-param">q_init=None</em>, <em class="sig-param">x=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.ContinuousTrajectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyrieef.motion.trajectory.Trajectory" title="pyrieef.motion.trajectory.Trajectory"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyrieef.motion.trajectory.Trajectory</span></code></a></p>
<p>Implements a trajectory that can be continously interpolated</p>
<dl class="method">
<dt id="pyrieef.motion.trajectory.ContinuousTrajectory.configuration_at_parameter">
<code class="sig-name descname">configuration_at_parameter</code><span class="sig-paren">(</span><em class="sig-param">s</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.ContinuousTrajectory.configuration_at_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>The trajectory is indexed by s in [0, 1]</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.ContinuousTrajectory.length">
<code class="sig-name descname">length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.ContinuousTrajectory.length" title="Permalink to this definition">¶</a></dt>
<dd><p>length in configuration space</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyrieef.motion.trajectory.CubicSplineTrajectory">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.trajectory.</code><code class="sig-name descname">CubicSplineTrajectory</code><span class="sig-paren">(</span><em class="sig-param">T=0</em>, <em class="sig-param">n=2</em>, <em class="sig-param">dt=0.1</em>, <em class="sig-param">q_init=None</em>, <em class="sig-param">x=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CubicSplineTrajectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyrieef.motion.trajectory.ContinuousTrajectory" title="pyrieef.motion.trajectory.ContinuousTrajectory"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyrieef.motion.trajectory.ContinuousTrajectory</span></code></a></p>
<p>Implements a trajectory that can be continously interpolated</p>
<dl class="simple">
<dt>Velocities and accelerations are computed using finite differences</dt><dd><p>which is why we set an epsilon parameter.</p>
</dd>
<dt>The trajectory is defined for a time interval</dt><dd><p>t in [0., dt * (T + 1)]</p>
</dd>
</dl>
<p>A trajectory is always defined from index 0 to T included
The final configuration of the trajectory is thus the
one indexed T and there an extra one for convinience in trajectory
optimization algorithm (for finite differences).
Hence when we define a spline we need to specify T configurations
over a time interval that finishes at dt * (T+1).</p>
<dl class="method">
<dt id="pyrieef.motion.trajectory.CubicSplineTrajectory.acceleration">
<code class="sig-name descname">acceleration</code><span class="sig-paren">(</span><em class="sig-param">t</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CubicSplineTrajectory.acceleration" title="Permalink to this definition">¶</a></dt>
<dd><p>returns acceleration at index i
Note that we suppose velocity at q_init to be 0</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CubicSplineTrajectory.config_at_time">
<code class="sig-name descname">config_at_time</code><span class="sig-paren">(</span><em class="sig-param">t</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CubicSplineTrajectory.config_at_time" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CubicSplineTrajectory.initialize_spline">
<code class="sig-name descname">initialize_spline</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CubicSplineTrajectory.initialize_spline" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CubicSplineTrajectory.time_indices">
<code class="sig-name descname">time_indices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CubicSplineTrajectory.time_indices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.CubicSplineTrajectory.velocity">
<code class="sig-name descname">velocity</code><span class="sig-paren">(</span><em class="sig-param">t</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.CubicSplineTrajectory.velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>returns velocity at index i
WARNING It is not the same convention as for the clique</p>
<blockquote>
<div><p>Here we suppose the velocity at q_init to be 0,
so the finite difference is left sided (q_t - q_t-1)/dt
This is different from the right sided version
(q_t+1 - q_t)/dt implemented in the cost term module.</p>
</div></blockquote>
<p>With left side FD we directly get the integration scheme:</p>
<blockquote>
<div><p>q_{t+1} = q_t + v_t * dt + a_t * dt^2</p>
</div></blockquote>
<p>where v_t and a_t are velocity and acceleration
at index t, with v_0 = 0.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyrieef.motion.trajectory.FunctionNetwork">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.trajectory.</code><code class="sig-name descname">FunctionNetwork</code><a class="headerlink" href="#pyrieef.motion.trajectory.FunctionNetwork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">geometry.differentiable_geometry.DifferentiableMap</span></code></p>
<p>Base class to implement a function network
It registers functions and evaluates
f(x_0, x_1, … ) = sum_i f_i(x_0, x_1, …)</p>
<dl class="method">
<dt id="pyrieef.motion.trajectory.FunctionNetwork.add_function">
<code class="sig-name descname">add_function</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.FunctionNetwork.add_function" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.FunctionNetwork.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.FunctionNetwork.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Should return an array or single value</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.FunctionNetwork.input_dimension">
<code class="sig-name descname">input_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.FunctionNetwork.input_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.FunctionNetwork.output_dimension">
<code class="sig-name descname">output_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.FunctionNetwork.output_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyrieef.motion.trajectory.Trajectory">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.trajectory.</code><code class="sig-name descname">Trajectory</code><span class="sig-paren">(</span><em class="sig-param">T=0</em>, <em class="sig-param">n=2</em>, <em class="sig-param">q_init=None</em>, <em class="sig-param">x=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Implement a trajectory as a single vector of configuration,
returns cliques of configurations
Note there is T active configuration in the trajectory
indices</p>
<blockquote>
<div><blockquote>
<div><p>0 and T + 1</p>
</div></blockquote>
<p>are supposed to be inactive.</p>
</div></blockquote>
<dl class="method">
<dt id="pyrieef.motion.trajectory.Trajectory.T">
<code class="sig-name descname">T</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory.T" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.Trajectory.acceleration">
<code class="sig-name descname">acceleration</code><span class="sig-paren">(</span><em class="sig-param">i</em>, <em class="sig-param">dt</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory.acceleration" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>returns acceleration at index i</dt><dd><p>Note that we suppose velocity at q_init to be 0</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.Trajectory.active_segment">
<code class="sig-name descname">active_segment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory.active_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>The active segment of the trajectory
removes the first configuration on the trajectory</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.Trajectory.clique">
<code class="sig-name descname">clique</code><span class="sig-paren">(</span><em class="sig-param">i</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory.clique" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a clique of 3 configurations</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.Trajectory.configuration">
<code class="sig-name descname">configuration</code><span class="sig-paren">(</span><em class="sig-param">i</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory.configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>mutable : traj.configuration(3)[:] = np.ones(2)</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.Trajectory.continuous_trajectory">
<code class="sig-name descname">continuous_trajectory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory.continuous_trajectory" title="Permalink to this definition">¶</a></dt>
<dd><p>returns an object of contunious type</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.Trajectory.final_configuration">
<code class="sig-name descname">final_configuration</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory.final_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>last active configuration</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.Trajectory.initial_configuration">
<code class="sig-name descname">initial_configuration</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory.initial_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>first configuration</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.Trajectory.list_configurations">
<code class="sig-name descname">list_configurations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory.list_configurations" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of configurations</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.Trajectory.n">
<code class="sig-name descname">n</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory.n" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.Trajectory.set">
<code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory.set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.Trajectory.set_from_configurations">
<code class="sig-name descname">set_from_configurations</code><span class="sig-paren">(</span><em class="sig-param">configurations</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory.set_from_configurations" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a list of configuration and set them
as a trajectory (equaly time spaced config)</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.Trajectory.state">
<code class="sig-name descname">state</code><span class="sig-paren">(</span><em class="sig-param">i</em>, <em class="sig-param">dt</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory.state" title="Permalink to this definition">¶</a></dt>
<dd><p>return a tuple of configuration and velocity at index i</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.Trajectory.velocity">
<code class="sig-name descname">velocity</code><span class="sig-paren">(</span><em class="sig-param">i</em>, <em class="sig-param">dt</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory.velocity" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>returns velocity at index i</dt><dd><dl class="simple">
<dt>WARNING It is not the same convention as for the clique</dt><dd><p>Here we suppose the velocity at q_init to be 0,
so the finite difference is left sided (q_t - q_t-1)/dt
This is different from the right sided version
(q_t+1 - q_t)/dt implemented in the cost term module.</p>
</dd>
</dl>
<p>With left side FD we directly get the integration scheme:</p>
<blockquote>
<div><p>q_{t+1} = q_t + v_t * dt + a_t * dt^2</p>
</div></blockquote>
<p>where v_t and a_t are velocity and acceleration
at index t, with v_0 = 0.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.Trajectory.x">
<code class="sig-name descname">x</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.Trajectory.x" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyrieef.motion.trajectory.TrajectoryObjectiveFunction">
<em class="property">class </em><code class="sig-prename descclassname">pyrieef.motion.trajectory.</code><code class="sig-name descname">TrajectoryObjectiveFunction</code><span class="sig-paren">(</span><em class="sig-param">q_init</em>, <em class="sig-param">function_network</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.TrajectoryObjectiveFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">geometry.differentiable_geometry.DifferentiableMap</span></code></p>
<p>Wraps the active part of the Clique Function Network</p>
<p>The idea is that the finite differences are approximated using
cliques so for the first clique, these values are quite off.
Since the first configuration is part of the problem statement
we can take it out of the optimization and through away the gradient
computed for that configuration.</p>
<p>TODO Test…</p>
<dl class="method">
<dt id="pyrieef.motion.trajectory.TrajectoryObjectiveFunction.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.TrajectoryObjectiveFunction.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Should return an array or single value</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.TrajectoryObjectiveFunction.full_vector">
<code class="sig-name descname">full_vector</code><span class="sig-paren">(</span><em class="sig-param">x_active</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.TrajectoryObjectiveFunction.full_vector" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.TrajectoryObjectiveFunction.hessian">
<code class="sig-name descname">hessian</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.TrajectoryObjectiveFunction.hessian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Should return the hessian matrix</dt><dd><p>n x n : input x input (dimensions)</p>
</dd>
</dl>
<p>by default the method returns the finite difference hessian
that relies on the jacobian function.
This method would be a third order tensor
in the case of multiple output, we exclude this case for now.
WARNING the object returned by this function is a numpy matrix.</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.TrajectoryObjectiveFunction.input_dimension">
<code class="sig-name descname">input_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.TrajectoryObjectiveFunction.input_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.TrajectoryObjectiveFunction.jacobian">
<code class="sig-name descname">jacobian</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.TrajectoryObjectiveFunction.jacobian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Should return a matrix or single value of</dt><dd><p>m x n : ouput x input (dimensions)</p>
</dd>
</dl>
<p>by default the method returns the finite difference jacobian.
WARNING the object returned by this function is a numpy matrix.</p>
</dd></dl>

<dl class="method">
<dt id="pyrieef.motion.trajectory.TrajectoryObjectiveFunction.output_dimension">
<code class="sig-name descname">output_dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.TrajectoryObjectiveFunction.output_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyrieef.motion.trajectory.linear_interpolation_trajectory">
<code class="sig-prename descclassname">pyrieef.motion.trajectory.</code><code class="sig-name descname">linear_interpolation_trajectory</code><span class="sig-paren">(</span><em class="sig-param">q_init</em>, <em class="sig-param">q_goal</em>, <em class="sig-param">T</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.linear_interpolation_trajectory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyrieef.motion.trajectory.no_motion_trajectory">
<code class="sig-prename descclassname">pyrieef.motion.trajectory.</code><code class="sig-name descname">no_motion_trajectory</code><span class="sig-paren">(</span><em class="sig-param">q_init</em>, <em class="sig-param">T</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.no_motion_trajectory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyrieef.motion.trajectory.resample">
<code class="sig-prename descclassname">pyrieef.motion.trajectory.</code><code class="sig-name descname">resample</code><span class="sig-paren">(</span><em class="sig-param">trajectory</em>, <em class="sig-param">T</em><span class="sig-paren">)</span><a class="headerlink" href="#pyrieef.motion.trajectory.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>interpolate</p>
</dd></dl>

</div>
<div class="section" id="module-pyrieef.motion">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pyrieef.motion" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Jim Mainprice.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>